$("#changeLang").change(()=>{window.location=$("#changeLang").val()}),document.getElementsByTagName("nav")[0].classList.add("border-bottom"),window.pageYOffset===0&&document.getElementsByTagName("nav")[0].classList.remove("border-bottom"),document.onscroll=()=>{if(window.pageYOffset===0){document.getElementsByTagName("nav")[0].classList.remove("border-bottom");return}document.getElementsByTagName("nav")[0].classList.add("border-bottom")},document.getElementById("menu-button").onclick=()=>{let e=document.getElementById("menu-icon");if(e.classList.contains("open")){e.classList.remove("open");return}e.classList.add("open")};function setAPIkeyStatus(){let e=localStorage.getItem("apiKey");e&&$("#apiKey").val(e)}function setNewAPIkey(){let e=$("#apiKey").val().trim();e&&e!==localStorage.getItem("apiKey")&&localStorage.setItem("apiKey",e)}validateFile=e=>()=>{$("#responseBad").html("");const s=e;let n=$("#inputFile"),t=n.prop("files")[0];if(t===void 0){$("#filename").html("");return}let o=t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase();s.includes(o)?$("#filename").html(t.name):(n.val(null),$("#filename").html("Invalid format"))},setAPIkeyStatus(),$("#apiKey").change(setNewAPIkey),$("#inputFile").change(validateFile(["docx","pptx","xlsx","txt","odt","html","xml","xliff","xlf","tmx"])),$("#doctransButton").click(docTranslation);async function docTranslation(){const t="https://api.trebesrv.com/translation/v1/demo/doctrans";$("#responseBad").css("display","none"),$("#wait_email").css("display","none"),$("#loading_file").css("display","block");let e=$("#inputFile").prop("files")[0];if(e!=null){let r=$("#model").val(),s=r.split("2"),o=localStorage.getItem("apiKey").split("_"),i=o.shift(),a=o.join("_"),c=a===""?{apikey:i}:{apikey:i,"X-Trebe-Email-To":a},n=new FormData;n.append("file",e),n.append("sourcelanguage",s[0]),n.append("targetlanguage",s[1]),n.append("delivery",$("input[name=email-response]:checked").val()),$("#output-name").val()&&n.append("outfilename",$("#output-name").val());let l={method:"POST",headers:c,body:n};fetch(t,l).then(e=>e.json()).then(e=>{e.message!==void 0||e.error!==void 0?($("#responseBad").html(e.message||e.error),$("#loading_file").css("display","none"),$("#wait_email").css("display","none"),$("#responseBad").css("display","block")):($("#loading_file").css("display","none"),$("#wait_email").css("display","block"))}).catch(e=>{$("#responseBad").html(e),$("#loading_file").css("display","none"),$("#wait_email").css("display","none"),$("#responseBad").css("display","block")})}else $("#responseBad").html("No file selected"),$("#loading_file").css("display","none"),$("#wait_email").css("display","none"),$("#responseBad").css("display","block")}
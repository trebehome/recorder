{{ define "main" }}
<div class="container mt-4 px-3 pt-lg-4 mb-lg-0 mb-5 pb-lg-0 pb-5">
    <h3 class="ms-2">
        {{ i18n "transcription_media" }}
    </h3>
    <div class="row mt-4">
        <div class="col-12 row m-0">
            <div class="col-lg-4 col-12 mt-2">
                <label class="mb-1" for="model">{{ i18n "model" }}:</label>
                <select class="form-select" id="model" name="model">
                    <option value="es">{{ i18n "spanish" }} (media)</option>
                    <option value="es_telephone">{{ i18n "spanish" }} (telephone)</option>
                    <option value="eu">{{ i18n "basque" }}</option>
                    <option value="en">{{ i18n "english" }}</option>
                    <option value="es_eu">{{ i18n "spanish" }} - {{ i18n "basque" }}</option>
                    <option value="es_ca">{{ i18n "spanish" }} - {{ i18n "catalan" }}</option>
                    <option value="es_gl">{{ i18n "spanish" }} - {{ i18n "galician" }}</option>
                </select>
            </div>
            {{- partial "apiKey.html" . -}}
        </div>
        <div class="col-12 row m-0">
            <div class="col-12 mt-3 row pe-0">
                <div class="col-lg-4 col-12 pe-0 mb-lg-0 mb-3">
                    <input class="form-control form-control-sm" type="text" name="output-name" id="output-name"
                        placeholder='{{ i18n "output_filename" }}'>
                    <label class="hidden-label" for="output-name">Output</label>
                </div>
                <div class="col-lg-4 col-12 ms-lg-3">
                    <div class="form-check mb-lg-0 mb-1">
                        <input class="form-check-input" type="radio" name="email-response" id="email-link"
                            value="email-link" checked>
                        <label class="form-check-label" for="email-link">
                            {{ i18n "send_link" }}
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="email-response" id="email-attachment"
                            value="email-attachment">
                        <label class="form-check-label" for="email-attachment">
                            {{ i18n "send_attachment" }}
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 row m-0 my-lg-0 my-3">
            <div class="col-12 mt-1">
                <input class="form-check-input" type="checkbox" id="diarization">
                <label class="form-check-label me-1" for="diarization">{{ i18n "diarization" }}</label>
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
                    class="bi bi-info-circle" viewBox="0 0 16 16" data-bs-toggle="tooltip" data-bs-placement="right"
                    data-bs-trigger="hover" title='{{ i18n "diarization_info" }}'>
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                    <path
                        d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
                </svg>
            </div>
        </div>
        <div class="col-12 row m-0">
            <div class="col-12 row mt-lg-3 mt-1">
                <div class="mb-1">
                    {{ i18n "output_formats" }}:
                </div>
                <div class="ms-2">
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-srt" checked>
                        <label class="form-check-label me-2" for="format-srt">.srt</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-rtf" checked>
                        <label class="form-check-label me-2" for="format-rtf">.rtf</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-stl" checked>
                        <label class="form-check-label me-2" for="format-stl">.stl</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-vtt" checked>
                        <label class="form-check-label me-2" for="format-vtt">.vtt</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-txt" checked>
                        <label class="form-check-label me-2" for="format-txt">.txt</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-xml" checked>
                        <label class="form-check-label me-2" for="format-xml">.xml</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-json" checked>
                        <label class="form-check-label me-2" for="format-json">.json</label>
                    </div>
                    <div class="form-group d-inline-block">
                        <input class="form-check-input" type="checkbox" id="format-mjson" checked>
                        <label class="form-check-label" for="format-mjson">.mjson</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="row pt-3 px-4 m-0">
            <div class="col-lg-6 col-12 row justify-content-center align-content-center m-0 p-0 border rounded-3">
                <div class="py-4 text-center" id="fileWrapper">
                    <label for="inputFile" class="hidden-label">Input</label>
                    <label for="inputFile">
                        <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" fill="currentColor"
                            class="bi bi-file-earmark-music-text my-4" viewBox="0 0 16 16">
                            <path
                                d="M11 6.64a1 1 0 0 0-1.243-.97l-1 .25A1 1 0 0 0 8 6.89v4.306A2.572 2.572 0 0 0 7 11c-.5 0-.974.134-1.338.377-.36.24-.662.628-.662 1.123s.301.883.662 1.123c.364.243.839.377 1.338.377.5 0 .974-.134 1.338-.377.36-.24.662-.628.662-1.123V8.89l2-.5V6.64z" />
                            <path
                                d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z" />
                        </svg>
                        <input type="file" id="inputFile" accept=".mp3,.mp4,.wav">
                    </label>
                    <div class="poppins-light">
                        {{ i18n "drop_file" }}
                        <br>
                        <span class="text-sm">.mp3 .mp4 .wav</span>
                    </div>
                    <div class="mt-3 poppins-light" id="filename"></div>
                </div>
                <button class="btn mb-3 text-white" id="transcribeButton">
                    {{ i18n "make_transcription" }}
                </button>
            </div>
            <div class="col-lg-6 col-12 row justify-content-center align-content-center p-0 ps-lg-5 m-0 mt-lg-0 mt-5">
                <div class="text-center mb-2">
                    <div id="loading_file">
                        <h3 class="mb-4">{{ i18n "loading_file" }}...</h3>
                    </div>
                    <div class="poppins-light" id="wait_email">
                        {{ i18n "we_transcribe_file" }} <span>{{ i18n "result_in_email" }}</span>.
                        <br>
                        <br>
                        {{ i18n "wait" }}
                    </div>
                </div>
                <div class="text-center mb-2 poppins-light" id="responseBad"></div>
            </div>
        </div>
    </div>
</div>
{{ end }}